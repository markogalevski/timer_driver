\hypertarget{gpio__interface_8h}{}\section{gpio\+\_\+interface.\+h File Reference}
\label{gpio__interface_8h}\index{gpio\+\_\+interface.\+h@{gpio\+\_\+interface.\+h}}


An interface which allows for a level of modularity when using the gpio between different architectures. Usage Notes\+: To port the driver, change the include config line to point instead to the new config.\+h file you want. The config file and the interface file together should provide all definitions to implement what you need in the machine specific c implementation file.  


{\ttfamily \#include \char`\"{}gpio\+\_\+stm32f411\+\_\+config.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}assert.\+h\char`\"{}}\newline
Include dependency graph for gpio\+\_\+interface.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=276pt]{gpio__interface_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=174pt]{gpio__interface_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{gpio__interface_8h_a19bc61b9832a2879bc1c8953dcfae407}{gpio\+\_\+init} (\hyperlink{structgpio__config__t}{gpio\+\_\+config\+\_\+t} $\ast$config\+\_\+table)
\item 
\hyperlink{gpio__stm32f411__config_8h_a5e8c50a3dc51d01d0e6bdf2428ee59a7}{gpio\+\_\+pin\+\_\+state\+\_\+t} \hyperlink{gpio__interface_8h_ac793bee91b8d2c12796adcbf8ea15121}{gpio\+\_\+pin\+\_\+read} (\hyperlink{gpio__stm32f411__config_8h_abf6d98e99fb0fb81b56c89f29bd6120e}{gpio\+\_\+pin\+\_\+t} pin)
\item 
void \hyperlink{gpio__interface_8h_ac1fc916f9add814d8e48656082157d69}{gpio\+\_\+pin\+\_\+write} (\hyperlink{gpio__stm32f411__config_8h_abf6d98e99fb0fb81b56c89f29bd6120e}{gpio\+\_\+pin\+\_\+t} pin, \hyperlink{gpio__stm32f411__config_8h_a5e8c50a3dc51d01d0e6bdf2428ee59a7}{gpio\+\_\+pin\+\_\+state\+\_\+t} value)
\item 
void \hyperlink{gpio__interface_8h_aa0ddb48c46df4618795dcc007efd0865}{gpio\+\_\+pin\+\_\+toggle} (\hyperlink{gpio__stm32f411__config_8h_abf6d98e99fb0fb81b56c89f29bd6120e}{gpio\+\_\+pin\+\_\+t} pin)
\item 
void \hyperlink{gpio__interface_8h_a0578742f44243946456798e9f99b409d}{gpio\+\_\+register\+\_\+write} (uint32\+\_\+t gpio\+\_\+register, uint32\+\_\+t value)
\item 
uint32\+\_\+t \hyperlink{gpio__interface_8h_a2b37f1fe30f115d92f9d8a4aea7dc705}{gpio\+\_\+register\+\_\+read} (uint32\+\_\+t gpio\+\_\+register)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
An interface which allows for a level of modularity when using the gpio between different architectures. Usage Notes\+: To port the driver, change the include config line to point instead to the new config.\+h file you want. The config file and the interface file together should provide all definitions to implement what you need in the machine specific c implementation file. 



\subsection{Function Documentation}
\mbox{\Hypertarget{gpio__interface_8h_a19bc61b9832a2879bc1c8953dcfae407}\label{gpio__interface_8h_a19bc61b9832a2879bc1c8953dcfae407}} 
\index{gpio\+\_\+interface.\+h@{gpio\+\_\+interface.\+h}!gpio\+\_\+init@{gpio\+\_\+init}}
\index{gpio\+\_\+init@{gpio\+\_\+init}!gpio\+\_\+interface.\+h@{gpio\+\_\+interface.\+h}}
\subsubsection{\texorpdfstring{gpio\+\_\+init()}{gpio\_init()}}
{\footnotesize\ttfamily void gpio\+\_\+init (\begin{DoxyParamCaption}\item[{\hyperlink{structgpio__config__t}{gpio\+\_\+config\+\_\+t} $\ast$}]{config\+\_\+table }\end{DoxyParamCaption})}

{\bfseries Description\+:} 

This function is used to initialise the gpio based on the configuration table defined in the \hyperlink{gpio__stm32f411__config_8c}{gpio\+\_\+stm32f411\+\_\+config.\+c}

P\+R\+E-\/\+C\+O\+N\+D\+I\+T\+I\+ON\+: Configuration table needs to populated (sizeof $>$ 0) ~\newline
 P\+R\+E-\/\+C\+O\+N\+D\+I\+T\+I\+ON\+: P\+I\+N\+S\+\_\+\+P\+E\+R\+\_\+\+P\+O\+RT $>$ 0 ~\newline
 P\+R\+E-\/\+C\+O\+N\+D\+I\+T\+I\+ON\+: N\+U\+M\+B\+E\+R\+\_\+\+O\+F\+\_\+\+P\+O\+R\+TS $>$ 0 ~\newline
 P\+R\+E-\/\+C\+O\+N\+D\+I\+T\+I\+ON\+: The R\+CC clocks for all planned ports must be configured and enabled.

P\+O\+S\+T-\/\+C\+O\+N\+D\+I\+T\+I\+ON\+: The G\+P\+IO is ready for use with all active pins set up.


\begin{DoxyParams}{Parameters}
{\em config\+\_\+table} & is a pointer to the configuration table that contains the initialisation structures for each planned gpio pin.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void
\end{DoxyReturn}
{\bfseries Example\+:} 
\begin{DoxyCode}
\textcolor{keyword}{const} \hyperlink{structgpio__config__t}{gpio\_config\_t} *gpio\_config = \hyperlink{gpio__stm32f411__config_8c_a2f1150ba6fa738e90abcd72b16507062}{gpio\_config\_get}();
\hyperlink{gpio__interface_8h_a19bc61b9832a2879bc1c8953dcfae407}{gpio\_init}(gpio\_config);
\end{DoxyCode}


\begin{DoxySeeAlso}{See also}
\hyperlink{gpio__stm32f411__config_8h_a2f1150ba6fa738e90abcd72b16507062}{gpio\+\_\+config\+\_\+get}
\end{DoxySeeAlso}
~\newline
{\bfseries  -\/ C\+H\+A\+N\+GE H\+I\+S\+T\+O\+RY -\/ }

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{4}{|X[-1]}|}
\hline
Date &Software Version &Initials &Description  \\\cline{1-4}
\end{longtabu}
~\newline
~\newline
 

 \mbox{\Hypertarget{gpio__interface_8h_ac793bee91b8d2c12796adcbf8ea15121}\label{gpio__interface_8h_ac793bee91b8d2c12796adcbf8ea15121}} 
\index{gpio\+\_\+interface.\+h@{gpio\+\_\+interface.\+h}!gpio\+\_\+pin\+\_\+read@{gpio\+\_\+pin\+\_\+read}}
\index{gpio\+\_\+pin\+\_\+read@{gpio\+\_\+pin\+\_\+read}!gpio\+\_\+interface.\+h@{gpio\+\_\+interface.\+h}}
\subsubsection{\texorpdfstring{gpio\+\_\+pin\+\_\+read()}{gpio\_pin\_read()}}
{\footnotesize\ttfamily \hyperlink{gpio__stm32f411__config_8h_a5e8c50a3dc51d01d0e6bdf2428ee59a7}{gpio\+\_\+pin\+\_\+state\+\_\+t} gpio\+\_\+pin\+\_\+read (\begin{DoxyParamCaption}\item[{\hyperlink{gpio__stm32f411__config_8h_abf6d98e99fb0fb81b56c89f29bd6120e}{gpio\+\_\+pin\+\_\+t}}]{pin }\end{DoxyParamCaption})}

{\bfseries Description\+:} 

This function reads the current state of the selected pin, regardless of whether it is in input or output mode.

P\+R\+E-\/\+C\+O\+N\+D\+I\+T\+I\+ON\+: \hyperlink{gpio__stm32f411_8c_a19bc61b9832a2879bc1c8953dcfae407}{gpio\+\_\+init()} has run successfully with the selected pin configured within the config table

P\+O\+S\+T-\/\+C\+O\+N\+D\+I\+T\+I\+ON\+: The return value contains the requested pin state in 1/0 form.


\begin{DoxyParams}{Parameters}
{\em pin} & is a member of the gpio\+\_\+pin\+\_\+t enumeration typedef\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
gpio\+\_\+pin\+\_\+state\+\_\+t containing the pin\textquotesingle{}s current state
\end{DoxyReturn}
{\bfseries Example\+:} 


\begin{DoxyCode}
\hyperlink{gpio__stm32f411__config_8h_a5e8c50a3dc51d01d0e6bdf2428ee59a7}{gpio\_pin\_state\_t} current\_state = \hyperlink{gpio__interface_8h_ac793bee91b8d2c12796adcbf8ea15121}{gpio\_pin\_read}(GPIO\_E\_4);
\end{DoxyCode}


\begin{DoxySeeAlso}{See also}
\hyperlink{gpio__stm32f411_8c_ac1fc916f9add814d8e48656082157d69}{gpio\+\_\+pin\+\_\+write} 

\hyperlink{gpio__stm32f411_8c_aa0ddb48c46df4618795dcc007efd0865}{gpio\+\_\+pin\+\_\+toggle}
\end{DoxySeeAlso}
~\newline
{\bfseries  -\/ C\+H\+A\+N\+GE H\+I\+S\+T\+O\+RY -\/ }

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{4}{|X[-1]}|}
\hline
Date &Software Version &Initials &Description  \\\cline{1-4}
\end{longtabu}
~\newline
~\newline
 

 \mbox{\Hypertarget{gpio__interface_8h_aa0ddb48c46df4618795dcc007efd0865}\label{gpio__interface_8h_aa0ddb48c46df4618795dcc007efd0865}} 
\index{gpio\+\_\+interface.\+h@{gpio\+\_\+interface.\+h}!gpio\+\_\+pin\+\_\+toggle@{gpio\+\_\+pin\+\_\+toggle}}
\index{gpio\+\_\+pin\+\_\+toggle@{gpio\+\_\+pin\+\_\+toggle}!gpio\+\_\+interface.\+h@{gpio\+\_\+interface.\+h}}
\subsubsection{\texorpdfstring{gpio\+\_\+pin\+\_\+toggle()}{gpio\_pin\_toggle()}}
{\footnotesize\ttfamily void gpio\+\_\+pin\+\_\+toggle (\begin{DoxyParamCaption}\item[{\hyperlink{gpio__stm32f411__config_8h_abf6d98e99fb0fb81b56c89f29bd6120e}{gpio\+\_\+pin\+\_\+t}}]{pin }\end{DoxyParamCaption})}

{\bfseries Description\+:} Toggles the state of the desired pin operating in output mode.

P\+R\+E-\/\+C\+O\+N\+D\+I\+T\+I\+ON\+: gpio\+\_\+init has been carried out and configured the pin in output mode.

P\+O\+S\+T-\/\+C\+O\+N\+D\+I\+T\+I\+ON\+: The pin takes on the opposite state.


\begin{DoxyParams}{Parameters}
{\em pin} & is the pin whose state we wish to change\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void
\end{DoxyReturn}
{\bfseries Example\+:} 


\begin{DoxyCode}
\hyperlink{gpio__interface_8h_aa0ddb48c46df4618795dcc007efd0865}{gpio\_pin\_toggle}(GPIO\_D\_15);
\end{DoxyCode}


\begin{DoxySeeAlso}{See also}
\hyperlink{gpio__stm32f411_8c_ac793bee91b8d2c12796adcbf8ea15121}{gpio\+\_\+pin\+\_\+read} 

\hyperlink{gpio__stm32f411_8c_ac1fc916f9add814d8e48656082157d69}{gpio\+\_\+pin\+\_\+write}
\end{DoxySeeAlso}
~\newline
{\bfseries  -\/ C\+H\+A\+N\+GE H\+I\+S\+T\+O\+RY -\/ }

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{4}{|X[-1]}|}
\hline
Date &Software Version &Initials &Description  \\\cline{1-4}
\end{longtabu}
~\newline
~\newline
 

 \mbox{\Hypertarget{gpio__interface_8h_ac1fc916f9add814d8e48656082157d69}\label{gpio__interface_8h_ac1fc916f9add814d8e48656082157d69}} 
\index{gpio\+\_\+interface.\+h@{gpio\+\_\+interface.\+h}!gpio\+\_\+pin\+\_\+write@{gpio\+\_\+pin\+\_\+write}}
\index{gpio\+\_\+pin\+\_\+write@{gpio\+\_\+pin\+\_\+write}!gpio\+\_\+interface.\+h@{gpio\+\_\+interface.\+h}}
\subsubsection{\texorpdfstring{gpio\+\_\+pin\+\_\+write()}{gpio\_pin\_write()}}
{\footnotesize\ttfamily void gpio\+\_\+pin\+\_\+write (\begin{DoxyParamCaption}\item[{\hyperlink{gpio__stm32f411__config_8h_abf6d98e99fb0fb81b56c89f29bd6120e}{gpio\+\_\+pin\+\_\+t}}]{pin,  }\item[{\hyperlink{gpio__stm32f411__config_8h_a5e8c50a3dc51d01d0e6bdf2428ee59a7}{gpio\+\_\+pin\+\_\+state\+\_\+t}}]{value }\end{DoxyParamCaption})}

{\bfseries Description\+:} Writes the desired state to the pin operating in output mode.

P\+R\+E-\/\+C\+O\+N\+D\+I\+T\+I\+ON\+: gpio\+\_\+init has been carried out and configured the pin in output mode.

P\+O\+S\+T-\/\+C\+O\+N\+D\+I\+T\+I\+ON\+: The pin takes on the desired state.


\begin{DoxyParams}{Parameters}
{\em pin} & is the pin whose state we wish to change\\
\hline
{\em value} & is the state which we wish the pin to assume\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void
\end{DoxyReturn}
{\bfseries Example\+:} 


\begin{DoxyCode}
\hyperlink{gpio__interface_8h_ac1fc916f9add814d8e48656082157d69}{gpio\_pin\_write}(GPIO\_C\_0, GPIO\_PIN\_HIGH);
\end{DoxyCode}


\begin{DoxySeeAlso}{See also}
\hyperlink{gpio__stm32f411_8c_ac793bee91b8d2c12796adcbf8ea15121}{gpio\+\_\+pin\+\_\+read} 

\hyperlink{gpio__stm32f411_8c_aa0ddb48c46df4618795dcc007efd0865}{gpio\+\_\+pin\+\_\+toggle}
\end{DoxySeeAlso}
~\newline
{\bfseries  -\/ C\+H\+A\+N\+GE H\+I\+S\+T\+O\+RY -\/ }

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{4}{|X[-1]}|}
\hline
Date &Software Version &Initials &Description  \\\cline{1-4}
\end{longtabu}
~\newline
~\newline
 

 \mbox{\Hypertarget{gpio__interface_8h_a2b37f1fe30f115d92f9d8a4aea7dc705}\label{gpio__interface_8h_a2b37f1fe30f115d92f9d8a4aea7dc705}} 
\index{gpio\+\_\+interface.\+h@{gpio\+\_\+interface.\+h}!gpio\+\_\+register\+\_\+read@{gpio\+\_\+register\+\_\+read}}
\index{gpio\+\_\+register\+\_\+read@{gpio\+\_\+register\+\_\+read}!gpio\+\_\+interface.\+h@{gpio\+\_\+interface.\+h}}
\subsubsection{\texorpdfstring{gpio\+\_\+register\+\_\+read()}{gpio\_register\_read()}}
{\footnotesize\ttfamily uint32\+\_\+t gpio\+\_\+register\+\_\+read (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{gpio\+\_\+register }\end{DoxyParamCaption})}

{\bfseries Description\+:} Reads a the value of the selected G\+P\+IO register in the G\+P\+IO memory space. This function can be used within a greater super function to access more advanced features of the G\+P\+IO, such as the L\+O\+CK.

P\+R\+E-\/\+C\+O\+N\+D\+I\+T\+I\+ON\+: The value of G\+P\+I\+O\+\_\+register lies within the memory map defined region dedicated to G\+P\+IO

P\+O\+S\+T-\/\+C\+O\+N\+D\+I\+T\+I\+ON\+: The registers contents are returned


\begin{DoxyParams}{Parameters}
{\em gpio\+\_\+register} & whose contents we wish to read\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
uint32\+\_\+t the value within the register
\end{DoxyReturn}
{\bfseries Example\+:} 


\begin{DoxyCode}
uint32\_t contents = \hyperlink{gpio__interface_8h_a2b37f1fe30f115d92f9d8a4aea7dc705}{gpio\_register\_read}(GPIOD\_BASE + 0x1CUL);
\end{DoxyCode}


\begin{DoxySeeAlso}{See also}
\hyperlink{gpio__stm32f411_8c_a0578742f44243946456798e9f99b409d}{gpio\+\_\+register\+\_\+write}
\end{DoxySeeAlso}
~\newline
{\bfseries  -\/ C\+H\+A\+N\+GE H\+I\+S\+T\+O\+RY -\/ }

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{4}{|X[-1]}|}
\hline
Date &Software Version &Initials &Description  \\\cline{1-4}
\end{longtabu}
~\newline
~\newline
 

 \mbox{\Hypertarget{gpio__interface_8h_a0578742f44243946456798e9f99b409d}\label{gpio__interface_8h_a0578742f44243946456798e9f99b409d}} 
\index{gpio\+\_\+interface.\+h@{gpio\+\_\+interface.\+h}!gpio\+\_\+register\+\_\+write@{gpio\+\_\+register\+\_\+write}}
\index{gpio\+\_\+register\+\_\+write@{gpio\+\_\+register\+\_\+write}!gpio\+\_\+interface.\+h@{gpio\+\_\+interface.\+h}}
\subsubsection{\texorpdfstring{gpio\+\_\+register\+\_\+write()}{gpio\_register\_write()}}
{\footnotesize\ttfamily void gpio\+\_\+register\+\_\+write (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{gpio\+\_\+register,  }\item[{uint32\+\_\+t}]{value }\end{DoxyParamCaption})}

{\bfseries Description\+:} Writes a desired value to the selected G\+P\+IO register in the G\+P\+IO memory space. This function can be used within a greater super function to access more advanced features of the G\+P\+IO, such as the L\+O\+CK.

P\+R\+E-\/\+C\+O\+N\+D\+I\+T\+I\+ON\+: The value of G\+P\+I\+O\+\_\+register lies within the memory map defined region dedicated to G\+P\+IO

P\+O\+S\+T-\/\+C\+O\+N\+D\+I\+T\+I\+ON\+: The register has been modified.


\begin{DoxyParams}{Parameters}
{\em gpio\+\_\+register} & is the register whose contents we wish to change\\
\hline
{\em value} & is the state which we wish the pin to assume\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void
\end{DoxyReturn}
{\bfseries Example\+:} 


\begin{DoxyCode}
\hyperlink{gpio__interface_8h_a0578742f44243946456798e9f99b409d}{gpio\_register\_write}(GPIOD\_BASE + 0x1CUL, 0xDEADBEEF);
\end{DoxyCode}


\begin{DoxySeeAlso}{See also}
\hyperlink{gpio__stm32f411_8c_a2b37f1fe30f115d92f9d8a4aea7dc705}{gpio\+\_\+register\+\_\+read}
\end{DoxySeeAlso}
~\newline
{\bfseries  -\/ C\+H\+A\+N\+GE H\+I\+S\+T\+O\+RY -\/ }

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{4}{|X[-1]}|}
\hline
Date &Software Version &Initials &Description  \\\cline{1-4}
\end{longtabu}
~\newline
~\newline
 

 